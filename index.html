<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/assets/logo.png">
  <title>Prescription Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f7f7f7;
    }

    .container {
      max-width: 1000px;
      margin: 50px auto;
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: flex-start;
    }

    .left-section {
      width: 40%; /* Blue section width remains 40% */
      background-color: #81cdc6;
      height: 100vh;
      /* Updated blue color */
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .right-section {
      width: 60%; /* Adjusted right side to 60% */
      padding-left: 30px;
      position: relative; /* Added for absolute logo positioning */
    }

    .left-section img {
  width: 250px;           /* Set width */
  height: 250px;          /* Set height */
  max-width: 250px;       /* Enforce maximum width */
  max-height: 250px;      /* Enforce maximum height */
  object-fit: contain;   /* Maintain aspect ratio */
 
}


    h2 {
      text-align: center;
      color: #333;
      font-size: 40px;
      width: fit-content;
      margin-bottom: 1;
    }

    h3, h5 {
      margin: 5px 0;
    }

    .form-group {
      margin-bottom: 15px;
      
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .form-group input, 
    .form-group select, 
    .form-group textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Left Section with Doctor's Details -->
    <div class="left-section">
        <img src="/assets/logo.png" alt="Clinic Logo"> 
      <h2>Dr. Fatima Saba</h2> <!-- Doctor's name moved here -->
      <h5 style="font-style: italic;">Dermatologist (PG DIP RCP-IRELAND)</h5> <!-- Italicized qualifications -->
      <h5 style="font-style: italic;">Master Medical Aesthetic Certified</h5> <!-- Italicized qualifications -->
    </div>

    <!-- Right Section with Logo and Form -->
    <div class="right-section">
     <!-- Logo moved to the top right -->
      <h2>Prescription Form</h2>
      <form id="prescriptionForm">
        <!-- Moved patient details below doctor's qualifications -->
        <div class="form-group">
          <label for="patientName">Patient Name</label>
          <input type="text" id="patientName" placeholder="Enter patient name">
        </div>

        <div class="form-group">
          <label for="age">Age</label>
          <input type="number" id="age" placeholder="Enter patient age">
        </div>

        <div class="form-group">
          <label for="sex">Sex</label>
          <select id="sex">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label for="date">Date</label>
          <input type="date" id="date">
        </div>

        <div class="form-group">
          <label for="notes">Prescription Notes</label>
          <textarea id="notes" rows="5" placeholder="Enter prescription details here"></textarea>
        </div>

        <button type="button" onclick="generatePDF()">Download PDF</button>
      </form>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
  <script>
    function generatePDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const blueWidth = 80;
        // Set the blue background color on the left side
        doc.setFillColor(129, 205, 198)/100;
        doc.rect(0, 0, blueWidth, 297, 'F'); // Blue section (40%) on the left

        // Gather form data
        const patientName = document.getElementById('patientName').value;
        const age = document.getElementById('age').value;
        const sex = document.getElementById('sex').value;
        const date = document.getElementById('date').value;
        const notes = document.getElementById('notes').value;

        // Add the logo on the top right side
        const img = new Image();
        img.src = '/assets/logo.png';

        img.onload = function() {
            // Calculate the aspect ratio of the image
            const imgWidth = img.width;
            const imgHeight = img.height;
            const targetWidth = 50; // Target width
            const targetHeight = 50; // Target height

            // Calculate new dimensions to maintain aspect ratio
            let width, height;
            if (imgWidth > imgHeight) {
                width = targetWidth;
                height = (imgHeight / imgWidth) * targetWidth; // Maintain aspect ratio
            } else {
                height = targetHeight;
                width = (imgWidth / imgHeight) * targetHeight; // Maintain aspect ratio
            }

            // Positioning the logo at the extreme right
            const x = 210 - width - 10; // Adjusted X position for extreme right with some margin
            const y = 9; // Y position for the image

            // Add the image to the PDF with contained behavior
            doc.addImage(img, 'PNG', x, y, width, height);

            // Add doctor name and qualifications on the left side
            doc.setFont("Helvetica", "bold");
            doc.setFontSize(20);
            doc.text("Dr. Fatima Saba", 10, 20); // Moved to left side

            // Italicized qualifications
            doc.setFont("Helvetica", "italic");
            doc.setFontSize(11);
            doc.text("Dermatologist (PG DIP RCP-IRELAND)", 10, 30); // Moved to left side
            doc.text("Master Medical Aesthetic Certified", 10, 40); // Moved to left side

            // Add patient info in a flex-like row layout on the left side
            doc.setFont("Helvetica", "normal");
            doc.setFontSize(14);

            const startY = 75; // Top margin for patient info
            const padding = 10; // Space between fields

            // Patient info positions on the left side
            const nameX = 5; // X position for Patient Name
            const ageX = nameX + 80 + padding; // X position for Age (70 is width of Patient Name)
            const sexX = ageX + 20 + padding; // X position for Sex (30 is width of Age)
            const dateX = sexX + 20 + padding; // X position for Date (30 is width of Sex)

            // Draw the patient info in a flex row layout
            doc.text(`Patient Name: ${patientName}`, nameX, startY);
            doc.text(`Age: ${age}`, ageX, startY);
            doc.text(`Sex: ${sex}`, sexX, startY);
            doc.text(`Date: ${date}`, dateX, startY);

            // Full-width prescription text
            doc.text("Prescription Notes:", 10, startY + 20);
            doc.setFontSize(12);
            doc.text(notes, 10, startY + 30, { maxWidth: 190 }); // Crossing the blue section, full-width

            // Save the PDF after adding all elements
            doc.save('prescription.pdf');
        };
    }
</script>










</body>
</html>
